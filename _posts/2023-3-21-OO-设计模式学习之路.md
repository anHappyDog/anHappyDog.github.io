---
title: OO 设计模式学习之路
author: lonelywatch
date: 2023-3-21 21:28 +0800
categories: [面对对象,设计模式]
tags: [java,面对对象,设计模式]
---

# OO 设计模式

## 前言

​		在差不多写完第一单元的时候就觉得自己应该去学习这个了，后面也没有想到OO课不教这个，在日后的学习工作中估计也难免会碰到，我相比JAVA更喜欢C++一点，设计模式也是需要的，这篇帖子记录我设计模式的学习，这里我看的是老师推荐的**《设计模式：可复用面对对象软件的基础》**，这本设计模式的开山鼻祖。

---

​		**设计模式** 由**名称（方便称呼）**，**问题**（使用的情景） ，**解决方案**（怎样实现），**效果**这几部分组成。

~~这本书讲了23个设计模式（P6），不可能一下子学会，只能在以后的学习和实践中慢慢掌握~~。

### 几个原则

**SOLID原则**：单一职责原则，开闭原则，里氏替换原则（LSP）,接口隔离原则，依赖倒换原则。

#### 单一职责原则

一个类或者一个模块只能实现一个功能，如果需要增加新的功能，则应该实现新的类，否则如果需要修改该功能，会导致开发困难。（原来上帝对象会被处罚（笑））

#### 开闭原则

需要对扩展开放，对修改关闭，在不影响原有功能的情况下实现新的开发。

如果不，之前的功能则不能保证是正确的。

#### 里氏替换原则

如果某个接口可以以基类的对象为参数，那么它应该同等地接受子类对象作为参数，并且不能产生任何异常。

#### 接口隔离原则

该原则建议将所有的接口拆分开来。

#### 依赖倒转原则

高层模块不应该依赖底层模块

抽象接口不应该依赖细节，应该相反才对。

### 工厂

工厂模式是一种构造器模式，用于构造各种各样需要满足某种要求的对象，用来降低系统的耦合度，提高可拓展性，提供用户便利的接口。至于说为什么，工厂模式把所有对象的构造方法都放在一个类中进行统一化管理。如果一个对象的创建过程很复杂，使用普通方法创建的话可能会造成代码重复，如果放入构造函数，构造函数必须要返回一个值，并且也违背了构造函数不应处理过多内容的原则，在后续的迭代开发中也不利于修改。如果使用工厂模式，则只需要在相应的工厂类中进行扩展与修改，对外接口并不会发生改变，满足开闭原则（对扩展开放，对修改关闭，就是在不影响原有实现的基础上进行开发扩展）。

#### 工厂模式与工厂方法

工厂模式包括工厂方法，工厂方法在一个类中可以代替使用构造函数创建对象来满足要求。工厂模式则是通过单独的类来进行创建。

下面是几个例子：

对于工厂方法：

假如需要生产一种产品，同时对于一个日期，只能生产一次产品，产品id还不能相同，则可以使用工厂方法。

对于工厂模式：

总共有三种产品，记作A,B,C，它们都是一种产品的子产品。对于一个日期，只能生产一次产品，同时，A,B,C生产需要一点的冷却时间，同时id还不能相同，则可以使用工厂模式。

#### 嵌套工厂模式和抽象工厂模式

嵌套工厂将工厂类放在了需要的类内部，如果不放在类内部的话，那么需要声明这个工厂类为友元类，并且如果是多层次的类的话，需要在每个层次都增加friend声明。

抽象工厂利用了多态，使得子对象能够存放在基对象的容器中，并根据类型做出一定的行为。C20设计模式中用了冷热饮的例子。生产咖啡和茶，既可以是热饮也可以是冷饮，我们抽象出热饮工厂和冷饮工厂，具体化咖啡工厂与茶工厂，并用一个工厂类来进行管理。

---

### 原型模式



### 单例模式

单例模式是一种”被讨厌“的模式，因为不便于修改迭代，但是在某些情况下也会很有用。

